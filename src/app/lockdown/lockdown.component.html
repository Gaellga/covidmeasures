
<div class="main-content">
  <div class="container-fluid">

    <div layout-align="end end">
      <h2>Lockdown Measures</h2>
    </div>

    <p>
      This page tracks government measures across the globe to reduce people's movement
      and activity outside their home. Our grassroots community is gathering data to understand
      their magnitude, their evolution and their consequences on society.
    </p>
    <p>
      This page puts the impacts of lockdown measures in perspective with the impacts
      of the COVID-19 epidemic on society. It also outlines countries using alternative
      approaches and compares their results with similar countries.
    </p>


    <div class="col-md-7">
      <div class="card">
        <div class="card-header card-header-success">
          <h3 class="card-title ">Lockdown Measures Overview</h3>

          <div *ngIf="isMobile">
            <mat-label>Choose Region</mat-label>
            <mat-select [(value)]="lockdownRegion" (selectionChange)="lockdownChangeRegion($event.value)">
              <mat-option *ngFor="let location of locations" [value]="location.value">
                {{location.viewValue}}
              </mat-option>
            </mat-select>
          </div>

          <div *ngIf="!isMobile">

            <div class="btn-group">

              <button mat-raised-button *ngIf="lockdownRegion==='World'"
                class="float" type="button" color="primary">
                <span>World</span>
              </button>
              <button mat-button *ngIf="lockdownRegion!=='World'"
                class="float" type="button" color="primary" (click)="lockdownChangeRegion('World')">
                <span>World</span>
              </button>

              <button mat-raised-button *ngIf="lockdownRegion==='Northern America'"
                class="float" type="button" color="primary">
                <span>North America</span>
              </button>
              <button mat-button *ngIf="lockdownRegion!=='Northern America'"
                class="float" type="button" color="primary" (click)="lockdownChangeRegion('Northern America')">
                <span>North America</span>
              </button>

              <button mat-raised-button *ngIf="lockdownRegion==='Europe'"
                class="float" type="button" color="primary">
                <span>Europe</span>
              </button>
              <button mat-button *ngIf="lockdownRegion!=='Europe'"
                class="float" type="button" color="primary" (click)="lockdownChangeRegion('Europe')">
                <span>Europe</span>
              </button>

              <button mat-raised-button *ngIf="lockdownRegion==='Asia'"
                class="float" type="button" color="primary">
                <span>Asia</span>
              </button>
              <button mat-button *ngIf="lockdownRegion!=='Asia'"
                class="float" type="button" color="primary" (click)="lockdownChangeRegion('Asia')">
                <span>Asia</span>
              </button>

              <button mat-raised-button *ngIf="lockdownRegion==='Africa'"
                class="float" type="button" color="primary">
                <span>Africa</span>
              </button>
              <button mat-button *ngIf="lockdownRegion!=='Africa'"
                class="float" type="button" color="primary" (click)="lockdownChangeRegion('Africa')">
                <span>Africa</span>
              </button>

            </div>

            <div class="btn-group">

              <button mat-raised-button *ngIf="lockdownRegion==='Oceania'"
                class="float" type="button" color="primary">
                <span>Oceania</span>
              </button>
              <button mat-button *ngIf="lockdownRegion!=='Oceania'"
                class="float" type="button" color="primary" (click)="lockdownChangeRegion('Oceania')">
                <span>Oceania</span>
              </button>

              <button mat-raised-button *ngIf="lockdownRegion==='Latin America and the Caribbean'"
                class="float" type="button" color="primary">
                <span>Latin America and the Caribbean</span>
              </button>
              <button mat-button *ngIf="lockdownRegion!=='Latin America and the Caribbean'"
                class="float" type="button" color="primary" (click)="lockdownChangeRegion('Latin America and the Caribbean')">
                <span>Latin America and the Caribbean</span>
              </button>

            </div>

          </div>

        </div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table">
                <thead class="text-primary">
                  <th>
                    People Impacted By Lockdown
                  </th>
                  <th>
                    Population Impacted By Curfew
                  </th>
                  <th>
                    Average Duration
                  </th>
                </thead>
                <tbody>
                  <tr>
                    <td class="left">
                      {{lockdownImpactedPeople | number}}
                    </td>
                    <td class="center">
                      {{curfewImpactedPeople | number}}
                    </td>
                    <td class="center">
                      {{averageDaysMissed | number}} days
                    </td>
                  </tr>
                </tbody>
              </table>
              </div>
          </div>

          <div class="card-footer ">
            <div class="stats">
              Updated on {{lockdownTableUpdatedOn}}
            </div>
            <div class="stats">
              Source: CovidMeasures Community
            </div>
          </div>

      </div>
    </div>

    <hr>

    <h3>Detailed Overview</h3>

    <div class="row">
      <div class="col-md-6">
        <div class="card">

          <div class="card-header card-header-success">
            <h3 class="card-title ">Countries</h3>

            <div *ngIf="isMobile">
              <mat-label>Choose Region</mat-label>
                <mat-select [(value)]="lockdownPieChartCountriesRegion" (selectionChange)="lockdownChangePieChartCountriesRegion($event.value)">
                  <mat-option *ngFor="let location of locations" [value]="location.value">
                    {{location.viewValue}}
                  </mat-option>
                </mat-select>
              </div>

            <div *ngIf="!isMobile">
              <div class="btn-group" *ngIf="!isMobile">
                <button mat-raised-button *ngIf="lockdownPieChartCountriesRegion==='World'"
                  class="float" type="button" color="primary">
                  <span>World</span>
                </button>
                <button mat-button *ngIf="lockdownPieChartCountriesRegion!=='World'"
                  class="float" type="button" color="primary" (click)="lockdownChangePieChartCountriesRegion('World')">
                  <span>World</span>
                </button>
    
                <button mat-raised-button *ngIf="lockdownPieChartCountriesRegion==='Northern America'"
                  class="float" type="button" color="primary">
                  <span>North America</span>
                </button>
                <button mat-button *ngIf="lockdownPieChartCountriesRegion!=='Northern America'"
                  class="float" type="button" color="primary" (click)="lockdownChangePieChartCountriesRegion('Northern America')">
                  <span>North America</span>
                </button>
    
                <button mat-raised-button *ngIf="lockdownPieChartCountriesRegion==='Europe'"
                  class="float" type="button" color="primary">
                  <span>Europe</span>
                </button>
                <button mat-button *ngIf="lockdownPieChartCountriesRegion!=='Europe'"
                  class="float" type="button" color="primary" (click)="lockdownChangePieChartCountriesRegion('Europe')">
                  <span>Europe</span>
                </button>
    
                <button mat-raised-button *ngIf="lockdownPieChartCountriesRegion==='Asia'"
                  class="float" type="button" color="primary">
                  <span>Asia</span>
                </button>
                <button mat-button *ngIf="lockdownPieChartCountriesRegion!=='Asia'"
                  class="float" type="button" color="primary" (click)="lockdownChangePieChartCountriesRegion('Asia')">
                  <span>Asia</span>
                </button>
                
                <button mat-raised-button *ngIf="lockdownPieChartCountriesRegion==='Africa'"
                  class="float" type="button" color="primary">
                  <span>Africa</span>
                </button>
                <button mat-button *ngIf="lockdownPieChartCountriesRegion!=='Africa'"
                  class="float" type="button" color="primary" (click)="lockdownChangePieChartCountriesRegion('Africa')">
                  <span>Africa</span>
                </button>
    
              </div>
            </div>
            <div class="btn-group" *ngIf="!isMobile">

              <button mat-raised-button *ngIf="lockdownPieChartCountriesRegion==='Oceania'"
                class="float" type="button" color="primary">
                <span>Oceania</span>
              </button>
              <button mat-button *ngIf="lockdownPieChartCountriesRegion!=='Oceania'"
                class="float" type="button" color="primary" (click)="lockdownChangePieChartCountriesRegion('Oceania')">
                <span>Oceania</span>
              </button>
  
              <button mat-raised-button *ngIf="lockdownPieChartCountriesRegion==='Latin America and the Caribbean'"
                class="float" type="button" color="primary">
                <span>Latin America and the Caribbean</span>
              </button>
              <button mat-button *ngIf="lockdownPieChartCountriesRegion!=='Latin America and the Caribbean'"
                class="float" type="button" color="primary" (click)="lockdownChangePieChartCountriesRegion('Latin America and the Caribbean')">
                <span>Latin America and the Caribbean</span>
              </button>
  
            </div>
          </div>

          <div class="card-body">
            <canvas id="lockdownCountriesPieChart" height="200"></canvas>
          </div>

          <div class="card-footer">
            <div class="stats">
              Updated on {{ lockdownTableUpdatedOn }}
            </div>
            <div class="stats">
              Source: CovidMeasures Community
            </div>
          </div>

        </div>
      </div>

      <div class="col-md-6">
        <div class="card">

          <div class="card-header card-header-success">
            <h3 class="card-title">Population</h3>
            <div *ngIf="isMobile">
              <mat-label>Choose Region</mat-label>
              <mat-select [(value)]="lockdownPieChartPopulationRegion" (selectionChange)="lockdownChangePieChartPopulationRegion($event.value)">
                <mat-option *ngFor="let location of locations" [value]="location.value">
                  {{location.viewValue}}
                </mat-option>
              </mat-select>
            </div>

            <div *ngIf="!isMobile">
              <div class="btn-group" *ngIf="!isMobile">
                <button mat-raised-button *ngIf="lockdownPieChartPopulationRegion==='World'"
                  class="float" type="button" color="primary">
                  <span>World</span>
                </button>
                <button mat-button *ngIf="lockdownPieChartPopulationRegion!=='World'"
                  class="float" type="button" color="primary" (click)="lockdownChangePieChartPopulationRegion('World')">
                  <span>World</span>
                </button>
    
                <button mat-raised-button *ngIf="lockdownPieChartPopulationRegion==='Northern America'"
                  class="float" type="button" color="primary">
                  <span>North America</span>
                </button>
                <button mat-button *ngIf="lockdownPieChartPopulationRegion!=='Northern America'"
                  class="float" type="button" color="primary" (click)="lockdownChangePieChartPopulationRegion('Northern America')">
                  <span>North America</span>
                </button>
    
                <button mat-raised-button *ngIf="lockdownPieChartPopulationRegion==='Europe'"
                  class="float" type="button" color="primary">
                  <span>Europe</span>
                </button>
                <button mat-button *ngIf="lockdownPieChartPopulationRegion!=='Europe'"
                  class="float" type="button" color="primary" (click)="lockdownChangePieChartPopulationRegion('Europe')">
                  <span>Europe</span>
                </button>
    
                <button mat-raised-button *ngIf="lockdownPieChartPopulationRegion==='Asia'"
                  class="float" type="button" color="primary">
                  <span>Asia</span>
                </button>
                <button mat-button *ngIf="lockdownPieChartPopulationRegion!=='Asia'"
                  class="float" type="button" color="primary" (click)="lockdownChangePieChartPopulationRegion('Asia')">
                  <span>Asia</span>
                </button>
                
                <button mat-raised-button *ngIf="lockdownPieChartPopulationRegion==='Africa'"
                  class="float" type="button" color="primary">
                  <span>Africa</span>
                </button>
                <button mat-button *ngIf="lockdownPieChartPopulationRegion!=='Africa'"
                  class="float" type="button" color="primary" (click)="lockdownChangePieChartPopulationRegion('Africa')">
                  <span>Africa</span>
                </button>
    
              </div>
            </div>
            <div class="btn-group" *ngIf="!isMobile">

              <button mat-raised-button *ngIf="lockdownPieChartPopulationRegion==='Oceania'"
                class="float" type="button" color="primary">
                <span>Oceania</span>
              </button>
              <button mat-button *ngIf="lockdownPieChartPopulationRegion!=='Oceania'"
                class="float" type="button" color="primary" (click)="lockdownChangePieChartPopulationRegion('Oceania')">
                <span>Oceania</span>
              </button>
  
              <button mat-raised-button *ngIf="lockdownPieChartPopulationRegion==='Latin America and the Caribbean'"
                class="float" type="button" color="primary">
                <span>Latin America and the Caribbean</span>
              </button>
              <button mat-button *ngIf="lockdownPieChartPopulationRegion!=='Latin America and the Caribbean'"
                class="float" type="button" color="primary" (click)="lockdownChangePieChartPopulationRegion('Latin America and the Caribbean')">
                <span>Latin America and the Caribbean</span>
              </button>
  
            </div>
          </div>
            
          <div class="card-body">
            <canvas id="lockdownPopulationPieChart" height="200"></canvas>
          </div>

          <div class="card-footer">
            <div class="stats">
              Updated on {{ lockdownTableUpdatedOn }}
            </div>
            <div class="stats">
              Source: CovidMeasures Community
            </div>
          </div>

        </div>
      </div>

    </div>


    <hr>

    <h3>By Countries</h3>

    <div class="col-md-12">
      <div class="card">

        <div class="card-header card-header-success">
          <h3 class="card-title">Lockdown Status Per Country</h3>
          <mat-form-field>
            <mat-label>Search by Country</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="United States of America, France, China...">
          </mat-form-field>
        </div>

        <div class="card-body">

          <div class="content table-responsive table-full-width">
            <table class="table">
              <thead>
                <th class="text-primary" *ngFor="let row of statsHeaders">
                  {{ row }}
                </th>
              </thead>
              <tbody>
                <tr *ngFor="let row of lockdownTable">
                  <td>{{ row.name }}</td>
                  <td>{{ row.start }}</td>
                  <td>{{ row.end }}</td>
                  <td>{{ row.duration }}</td>
                  <td>{{ row.lockdown }}</td>
                  <td>{{ row.curfew }}</td>
                  <td>{{ row.other }}</td>
                  <td>{{ row.population | number}}</td>
                  <td>{{ row.status }}</td>
                </tr>
              </tbody>
            </table>
            </div>
    
        </div>

        <div class="card-footer">
          <div class="stats">
            Updated on {{ lockdownTableUpdatedOn }}
          </div>
          <div class="stats">
            Source: CovidMeasures Community
          </div>
        </div>

      </div>
    </div>

  </div>
</div>