<div class="main-content">
  <div class="container-fluid">

    <div layout-align="end end">
      <h2><u>Citizens Tacking COVID-19 & Other Death Causes Statistics</u></h2>
    </div>

    <p>
      On this page, we want to remind everyone that COVID-19, as scary as it looks,
      is only one of the many causes of deaths. The graphs below show the COVID-19 death rate
      as an incremental rather than the sole focus of the analysis. We are also providing an overview
      by age range which highlights the age effect of the virus compared to the usual death rates.
    </p>
    <p>
      We hope that this page can inform individuals on how COVID-19 has become a threat for themselves and
      their loved ones compare to all the other death causes that we normally face in our day-to-day.
    </p>

    <div class=" row">
      <div class=" col-lg-12">
        <div class="card">

          <div class="card-header card-header-success">
            <h3 class="card-title">COVID-19 Death VS Other Causes of Deaths</h3>

            <div *ngIf="isMobile">
              <mat-label>Choose Time Interval</mat-label>
              <mat-select [(value)]="deathStatsSince1stInit" (selectionChange)="changeDeathStatPeriod()">
                <mat-option *ngFor="let date of dates" [value]="date.value">
                  {{date.value}}
                </mat-option>
              </mat-select>
            </div>

            <div class="btn-group" *ngIf="!isMobile">
              <button mat-button *ngIf="!deathStatsSince1st" class="float" type="button" color="primary" (click)="changeDeathStatPeriod()">
                <span>Since 1st COVID-19 death (on 11 January 2020)</span>
              </button>
              <button mat-raised-button *ngIf="deathStatsSince1st" class="float" type="button" color="primary">
                <span>Since 1st COVID-19 death (on 11 January 2020)</span>
              </button>

              <button mat-button *ngIf="deathStatsSince1st" class="float" type="button" color="primary" (click)="changeDeathStatPeriod()">
                <span>Last 24 hours</span>
              </button>
              <button mat-raised-button *ngIf="!deathStatsSince1st" class="float" type="button" color="primary">
                <span>Last 24 hours</span>
              </button>
            </div>
          </div>

          <div class=" card-body">
            <canvas id="DeathCausesChart" height="500"></canvas>
          </div>

          <div class="card-footer ">
            <div class="stats">
              Updated on {{ today | date }}
            </div>
            <div class="stats">
              Source: <a href="https://ourworldindata.org/causes-of-death"> Our World In Data</a> &
              <a
                href="https://www.ecdc.europa.eu/en/publications-data/download-todays-data-geographic-distribution-covid-19-cases-worldwide"
              >ECDC</a>
            </div>
          </div>

        </div>
      </div>
    </div>

    <p>
      COVID-19 is now part of the top 5 causes of deaths worldwide.
      With 7,300 daily deaths, COVID-19 represents an increment of just below 5% of the total deaths.
      Since the beginning of the crisis, COVID-19 accounts for an increase of 0.5% overall.
      <b>Internal note: we should probably use dynamic values.</b>
    </p>

    <hr>
    <h3><u>Understanding COVID-19 Death Age Range</u></h3>

    <div class="col-lg-12">
      <div class="card ">

        <div class="card-header card-header-success">
          <h3 class="card-title">COVID-19 Death Estimate By Age Range</h3>

          <div *ngIf="isMobile">
            <mat-label>Choose Time Interval</mat-label>
            <mat-select [(value)]="estimationStatsSince1stInit" (selectionChange)="deathEstimationPeriodSwitch()">
              <mat-option *ngFor="let date of dates" [value]="date.value">
                {{date.value}}
              </mat-option>
            </mat-select>
          </div>

          <div *ngIf="isMobile">
            <mat-label>Choose Region</mat-label>
            <mat-select [(value)]="deathEstimationLocation" (selectionChange)="deathEstimationSwitch($event.value)">
              <mat-option *ngFor="let location of locations" [value]="location.value">
                {{location.value}}
              </mat-option>
            </mat-select>
          </div>

          <div class="btn-group" *ngIf="!isMobile">
            <button mat-raised-button *ngIf="estimationSince1st"
              class="float" type="button" color="primary" style="background-color: rebeccapurple;">
              <span>Since 1st COVID-19 death (on 11 January 2020)</span>
            </button>
            <button mat-button *ngIf="estimationSince1st"
              class="float" type="button" color="primary" (click)="deathEstimationPeriodSwitch()">
              <span>Last 24 hours</span>
            </button>
            <button mat-button *ngIf="!estimationSince1st"
              class="float" type="button" color="primary" (click)="deathEstimationPeriodSwitch()">
              <span>Since 1st COVID-19 death (on 11 January 2020)</span>
            </button>
            <button mat-raised-button *ngIf="!estimationSince1st"
              class="float" type="button" color="primary" style="background-color: rebeccapurple;">
              <span>Last 24 hours</span>
            </button>
          </div>

          <br>

          <ng-container *ngIf="!isMobile">
            <ng-container *ngFor="let location of locations">
              <button mat-raised-button *ngIf="deathEstimationLocation===location.value"
                class="float" type="button" color="primary">
                <span>{{ location.viewValue }}</span>
              </button>

              <button mat-button *ngIf="deathEstimationLocation!==location.value"
                class="float" type="button" color="primary"
                (click)="deathEstimationSwitch(location.value)">
                <span>{{ location.viewValue }}</span>
              </button>
            </ng-container>
          </ng-container>
        </div>

        <div class="card-body">
          <canvas id="covidDeathEstimationChart" height="400"></canvas>
        </div>

        <div class="card-footer ">
          <div class="stats">
            Updated on {{ today | date }}
          </div>
          <div class="stats">
            Source: &nbsp; <a href="https://www.un.org/en/development/desa/publications/world-population-prospects-2015-revision.html">
              United Nations &nbsp;
            </a> &
            <a
              href="https://www.ecdc.europa.eu/en/publications-data/download-todays-data-geographic-distribution-covid-19-cases-worldwide"
            >&nbsp; ECDC</a>
          </div>
        </div>

      </div>
    </div>

    <p>
      The distribution among age range demonstrates the bigger impact of the COVID-19 over the older population.
      Worldwide, the 60+ population accounts for 75% of the total deaths, versus 65% for other causes.
      This phenomenon is exacerbated in certain continents, such as Europe where the 60+ population accounts
      for 85% of the total COVID-19 deaths. In the case of Europe which has the highest life expectancy
      and a large older population, the 60+ population usually represents 88% of the total deaths which is
      3% above the COVID-19 death rate. 
    </p>
    <p>
      <i>
        Note that the age distribution numbers are estimates based on a
        <a href="https://www.who.int/docs/default-source/coronaviruse/who-china-joint-mission-on-covid-19-final-report.pdf">
          WHO study
        </a>
        on death rate, not actual figures.
      </i>
    </p>

    <hr>
    <h3><u>Understanding How COVID-19 Increases Death Rate By Ages</u></h3>

    <div class="col-lg-12">
      <div class="card ">

        <div class="card-header card-header-success">
          <h3 class="card-title">Death Estimate By Age Range</h3>

          <div *ngIf="isMobile">
            <mat-label>Choose Time Interval</mat-label>
            <mat-select [(value)]="deathCausesSince1stInit" (selectionChange)="deathCausesPeriodSwitch()">
              <mat-option *ngFor="let date of dates" [value]="date.value">
                {{date.value}}
              </mat-option>
            </mat-select>
          </div>

          <div *ngIf="isMobile">
            <mat-label>Choose Region</mat-label>
            <mat-select [(value)]="deathCausesLocation" (selectionChange)="deathCausesLocationSwitch($event.value)">
              <mat-option *ngFor="let location of locations" [value]="location.value">
                {{location.value}}
              </mat-option>
            </mat-select>
          </div>

          <div class="btn-group" *ngIf="!isMobile">

            <button mat-raised-button *ngIf="deathCausesSince1st"
              class="float" type="button" color="primary" style="background-color: rebeccapurple;">
              <span>Since 1st COVID-19 death (on 11 January 2020)</span>
            </button>
            <button mat-button *ngIf="deathCausesSince1st"
              class="float" type="button" color="primary" (click)="deathCausesPeriodSwitch()">
              <span>Last 24 hours</span>
            </button>
            <button mat-button *ngIf="!deathCausesSince1st"
              class="float" type="button" color="primary" (click)="deathCausesPeriodSwitch()">
              <span>Since 1st COVID-19 death (on 11 January 2020)</span>
            </button>
            <button mat-raised-button *ngIf="!deathCausesSince1st"
              class="float" type="button" color="primary" style="background-color: rebeccapurple;">
              <span>Last 24 hours</span>
            </button>
          </div>

          <br>

          <ng-container *ngIf="!isMobile">
            <ng-container *ngFor="let location of locations">
              <button mat-raised-button *ngIf="deathCausesLocation===location.value"
                class="float" type="button" color="primary">
                <span>{{ location.viewValue }}</span>
              </button>

              <button mat-button *ngIf="deathCausesLocation!==location.value"
                class="float" type="button" color="primary"
                (click)="deathCausesLocationSwitch(location.value)">
                <span>{{ location.viewValue }}</span>
              </button>
            </ng-container>
          </ng-container>
        </div>

        <div class="card-body">
          <canvas id="deathCausesChart" height="400"></canvas>
        </div>

        <div class="card-footer ">
          <div class="stats">
            Updated on {{ today | date }}
          </div>
          <div class="stats">
            Source: &nbsp; <a href="https://www.un.org/en/development/desa/publications/world-population-prospects-2015-revision.html">
              United Nations &nbsp;
            </a> &
            <a
              href="https://www.ecdc.europa.eu/en/publications-data/download-todays-data-geographic-distribution-covid-19-cases-worldwide"
            >&nbsp; European Centre for Disease Prevention and Control</a>
          </div>
        </div>

      </div>
    </div>
